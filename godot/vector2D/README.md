# Векторная математика 
## Введение

Поскольку этот учебник относится к разработке игр, он представляет собой краткое и практическое введение в линейную алгебру. Линейная алгебра - это изучение векторов и их использование. Векторы имеют много направлений в применении как в 2D, так и в 3D-разработке, и Godot широко их использует. Хорошее понимание векторной математики имеет важное значение для того, чтобы стать сильным разработчиком игр.

> **Заметка**
>
> Этот учебник не является формальным учебником по линейной алгебре. Мы будем рассматривать только то, как она применяется в разработке игр. Для более широкого изучения математики см. [click](https://www.khanacademy.org/math/linear-algebra) (eng).

## Системы координат (2D)
 
В 2D пространстве координаты определяются с использованием горизонтальной оси `(x)` и вертикальной оси `(y)`. Отдельная позиция в 2D-пространстве записывается как пара значений - `(4, 3)`.

![Изображение 1](/godot/vector2D/docs/image1.png)

> **Заметка**
>
> Если вы новичок в компьютерной графике, то вам могло показаться странным, что положительная ось `(y)` показывает **вниз**, а не вверх, как вы, вероятно, изучали в учебном заведении. Однако такой подход распространен в большинстве приложений для компьютерной графики. 

Таким образом любая позиция в 2D-плоскости может быть обозначена парой чисел. Однако мы можем представить точку `(4, 3)` как смещенную точку от `(0, 0)` или от начала координат. Нарисуйте стрелку, от начала координат до точки `(4, 3)` указывающую направление:

![Изображение 2](/godot/vector2D/docs/image2.png)

Это вектор. Вектор дает много полезной информации. Мы можем сказать, что точка находится в `(4, 3)`, также можем рассматривать ее как угол `θ` и длину (некую величину) `m`. В этом случае стрелка представляет собой вектор положения - она обозначает положение в пространстве относительно начала координат.
Важным моментом для рассмотрения векторов является то, что они представляют только относительное направление и длину. Нет понятия конкретного положения вектора. Следующие два вектора идентичны (коллинеарные векторы):

![Изображение 3](/godot/vector2D/docs/image3.png)

Оба вектора представляют точку, смещенную на `4` единицы вправо и `3` единицы вниз, относительно некоторой начальной точки. Неважно, где на плоскости вы рисуете вектор, он всегда представляет относительное направление и длину.

## Операции над векторами

Вы можете использовать любой метод (координаты x и y, угол или длину) для обозначения вектора, но для удобства программисты обычно используют обозначение координат. Например, в Godot начало координат - верхний левый угол экрана, поэтому для размещения 2D-узла с именем Node2D (400 px вправо и 300 px вниз) используйте следующий код:

```python
$Node2D.position = Vector2 (400, 300)
```

Godot поддерживает как Vector2, так и Vector3 для использования в 2D и 3D пространстве соответственно. Математические правила, которые обсуждаются в этой статье, применимы к обоим типам.

### Компоненты вектора

Значение компонентов вектора можно получить через его переменные.

```python
# создаем вектор с координатами 2 и 5
var a = Vector2(2, 5)
# создаем вектор и назначаем вручную значения x и у
var b = Vector2()
b.x = 3
b.y = 1
```

### Сложение векторов

При добавлении или вычитании двух векторов добавляются или вычитаются соответствующие компоненты: 

```python
var c = a + b  # (2, 5) + (3, 1) = (5, 6)
```

Визуально это выглядит примерно так: добавляется второй вектор в конец первого:

![Изображение 4](/godot/vector2D/docs/image4.png)

Обратите внимание, что сложение `a + b` дает тот же результат, что и `b + a`.

* Умножение вектора на число

> **Заметка**
>
> Когда мы говорим о векторах, мы называем отдельные числа скалярами. Например, (2, 5) — вектор, а 2 — это скаляр.

Вектор можно умножить на число (скаляр):

```python
var c = a * 2  # (2, 5) * 2 = (4, 10)
var d = b / 3  # (3, 6) / 3 = (1, 2)
```

![Изображение 5](/godot/vector2D/docs/image5.png)

> **Заметка**
>
> Умножение вектора скаляром не изменяет его направление, а только его длину. Вы как будто масштабируете вектор.

## Практическое применение

Давайте рассмотрим два общих примера для сложения и вычитания векторов.

* Движение

Вектор может представлять любую величину с длиной и направлением. Типичными примерами являются: положение, скорость, ускорение и сила. На изображении ниже космический корабль на шаге `1` имеет вектор положения `(1,3)` и вектор скорости `(2,1)`. Вектор скорости показывает, как далеко переместится судно на следующем шаге. Мы можем найти положение для шага `2`, добавив скорость в текущее положение `(1,3)`.

![Изображение 6](/godot/vector2D/docs/image6.png)

> **Подсказка**
>
> Скорость измеряет изменение положения за единицу времени. Новое положение можно найти, добавив скорость в предыдущую позицию.

* Направление на цель

В этом случае у вас есть танк, который хочет направить свою башню на робота. Вычитая положение танка из положения робота, вектор укажет направление от танка к роботу.
